!function(n,e){n=n||{},"function"==typeof define&&define.amd?define([],function(){return n.jsonToFormData=e()}):"object"==typeof module&&module.exports?module.exports=n.jsonToFormData=e():n.jsonToFormData=e()}(this,function(){function s(n){return"[object Array]"==={}.toString.call(n)}function c(n){return!(s(n)||"object"!=typeof n||!n||n instanceof Blob||n instanceof Date)}function a(){return"function"==typeof FormData}function r(n){return"number"==typeof n||"string"==typeof n}return function(n,e){if(e&&e.initialFormData){if("function"!=typeof e.initialFormData.append)throw"initialFormData must have an append function."}else if(!a())throw"This environment does not have global form data. options.initialFormData must be specified.";var t,o=[{initialFormData:function(){if(a())return new FormData}(),showLeafArrayIndexes:!0,includeNullValues:!1,useDotSeparator:!1,mapping:function(n){return"boolean"==typeof n?+n?"1":"0":n}},e||{}].reduce(function(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},{});return function n(e,t,o,a,r){if(a){for(var i in e)o.append("["+i+"]",e[i]);return o}var f=0;for(var i in e){if(e.hasOwnProperty(i)){var u=r||i,l=t.mapping(e[i]);if(r&&c(e)&&(u=t.useDotSeparator?r+"."+i:r+"["+i+"]"),r&&s(e)&&(u=s(l)||t.showLeafArrayIndexes?r+"["+f+"]":r+"[]"),s(l)||c(l))n(l,t,o,!1,u);else if(l instanceof FileList)for(var p=0;p<l.length;p++)o.append(u+"["+p+"]",l.item(p));else l instanceof Blob?o.append(u,l,l.name):l instanceof Date?o.append(u,l.toISOString()):(null===l&&t.includeNullValues||null!==l)&&void 0!==l&&o.append(u,l)}f++}return o}(n,o,o.initialFormData,(t=n,Array.isArray(t)&&t.every(r)))}});