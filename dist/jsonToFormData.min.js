!function(n,e){n=n||{},"function"==typeof define&&define.amd?define([],function(){return n.jsonToFormData=e()}):"object"==typeof module&&module.exports?module.exports=n.jsonToFormData=e():n.jsonToFormData=e()}(this,function(){function p(n){return"[object Array]"==={}.toString.call(n)}function s(n){return!(p(n)||"object"!=typeof n||!n||n instanceof Blob||n instanceof Date)}function a(){return"function"==typeof FormData}function i(n){return null===n||"object"!=typeof n&&"function"!=typeof n}return function(n,e){if(e&&e.initialFormData){if("function"!=typeof e.initialFormData.append)throw"initialFormData must have an append function."}else if(!a())throw"This environment does not have global form data. options.initialFormData must be specified.";var t,o=[{initialFormData:function(){if(a())return new FormData}(),showLeafArrayIndexes:!0,includeNullValues:!1,useDotSeparator:!1,mapping:function(n){return"boolean"==typeof n?+n?"1":"0":n}},e||{}].reduce(function(e,t){return Object.keys(t).forEach(function(n){e[n]=t[n]}),e},{});return function n(e,t,o,a,i){if(a){for(var r in e)o.append("["+r+"]",e[r]);return o}var f=0;for(var r in e){if(e.hasOwnProperty(r)){var u=i||r,l=t.mapping(e[r]);if(i&&s(e)&&(u=t.useDotSeparator?i+"."+r:i+"["+r+"]"),i&&p(e)&&(u=p(l)||t.showLeafArrayIndexes?i+"["+f+"]":i+"[]"),p(l)||s(l))n(l,t,o,!1,u);else if(l instanceof FileList)for(var c=0;c<l.length;c++)o.append(u+"["+c+"]",l.item(c));else l instanceof Blob?o.append(u,l,l.name):l instanceof Date?o.append(u,l.toISOString()):(null===l&&t.includeNullValues||null!==l)&&void 0!==l&&o.append(u,l)}f++}return o}(n,o,o.initialFormData,(t=n,Array.isArray(t)&&t.every(i)))}});