!function(n,t){n=n||{},"function"==typeof define&&define.amd?define([],function(){return n.jsonToFormData=t()}):"object"==typeof module&&module.exports?module.exports=n.jsonToFormData=t():n.jsonToFormData=t()}(this,function(){function s(n){return"[object Array]"==={}.toString.call(n)}function p(n){return!(s(n)||"object"!=typeof n||!n||n instanceof Blob||n instanceof Date)}function o(){return"function"==typeof FormData}function r(n){return function(n){if(!Array.isArray(n))return!1;for(var t in n)if(!/^\d+$/.test(t))return!1;return!0}(n)}return function(n,t){if(t&&t.initialFormData){if("function"!=typeof t.initialFormData.append)throw"initialFormData must have an append function."}else if(!o())throw"This environment does not have global form data. options.initialFormData must be specified.";var e=[{initialFormData:function(){if(o())return new FormData}(),showLeafArrayIndexes:!0,includeNullValues:!1,useDotSeparator:!1,mapping:function(n){return"boolean"==typeof n?+n?"1":"0":n}},t||{}].reduce(function(t,e){return Object.keys(e).forEach(function(n){t[n]=e[n]}),t},{});return function n(t,e,o,r,a){if(r){for(var i in t)o.append("["+i+"]",t[i]);return o}var f=0;for(var i in t){if(t.hasOwnProperty(i)){var u=a||i,c=e.mapping(t[i]);if(a&&p(t)&&(u=e.useDotSeparator?a+"."+i:a+"["+i+"]"),a&&s(t)&&(u=s(c)||e.showLeafArrayIndexes?a+"["+f+"]":a+"[]"),s(c)||p(c))n(c,e,o,!1,u);else if(c instanceof FileList)for(var l=0;l<c.length;l++)o.append(u+"["+l+"]",c.item(l));else c instanceof Blob?o.append(u,c,c.name):c instanceof Date?o.append(u,c.toISOString()):(null===c&&e.includeNullValues||null!==c)&&void 0!==c&&o.append(u,c)}f++}return o}(n,e,e.initialFormData,r(n))}});